<include/common/vendor-token.conf>
<include/common/tokens.conf>
<include/components/volume.conf>
<include/components/host.conf>
<include/components/buffer.conf>
<include/components/pipeline.conf>
<include/controls/mixer.conf>
<include/pipelines/volume-playback.conf>
<include/components/dai.conf>
<include/common/pcm.conf>
<include/common/pcm_caps.conf>
<include/common/fe_dai.conf>
<include/dais/ssp.conf>
<include/dais/hw_config.conf>
<include/common/route.conf>

#
# Speaker DAIs configuration
#
Object.Dai {
	SSP.1 {
		id 6
		name SSP1-Codec
		default_hw_conf_id	6
		sample_bits 24
		bclk_delay 10
		clks_control 0
		quirks "lbm_mode"
		frame_pulse_width	0
		Object.Base.hw_config."SSP1" {
			id 6
			bclk_freq 4800000
			mclk_freq 24000000
			tdm_slot_width 25
			mclk_freq 24000000
			rx_slots 15
			tdm_slots 4
			tx_slots 3
			format 'DSP_A'
		}
		Object.Widget.dai.0 {
			index  7
			dai_index 1
			type "dai_in"
			dai_type "SSP"
			direction "playback"
			stream_name "SSP1-Codec"
			period_sink_count 0
			period_source_count 2
			format s24le
		}
	}
}

#
# Define the Speaker pipeline
#
# PCM5  ----> volume (pipe 7) ----> SSP1 (speaker - rt1011, BE link 5)
#
# Low Latency playback pipeline 7 on PCM 5 using max 2 channels of s32le.
# Schedule 48 frames per 1000us deadline on core 0 with priority 0
Object.Pipeline {
	volume-playback.7 {
		dynamic_pipeline @DYNAMIC_PIPELINE@
		core 0
		frames 0
		priority 0
		Object.Widget.pipeline.1 {
			stream_name 'dai.SSP.1.playback'
		}
		Object.Widget.host.playback {
			stream_name 'Passthrough Playback 5'
		}
		Object.Widget.pga.1 {
			Object.Control.mixer.1 {
				name '7 Master Playback Volume'
				access [
					'read_write'
					'tlv_read'
				]
			}
		}
		format s32le
	}
}

#
# PCM configuration
#
Object.PCM {
	pcm.5 {
		name "Speakers"
		direction "playback"
		Object.Base.fe_dai."Speakers" {}
		Object.PCM.pcm_caps."playback" {
			name "Passthrough Playback 5"
			formats 'S32_LE,S24_LE,S16_LE'
		}
	}
}

#
# Graph configuration
#
Object.Base.route.100 {
	source 'buffer.7.2'
	sink 'dai.SSP.1.playback'
}
